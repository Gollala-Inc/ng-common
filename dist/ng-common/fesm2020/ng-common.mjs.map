{"version":3,"file":"ng-common.mjs","sources":["../../../projects/ng-common/src/lib/pipe/comma-separate-number.pipe.ts","../../../projects/ng-common/src/lib/component/confirm-dialog/confirm-dialog.component.ts","../../../projects/ng-common/src/lib/component/confirm-dialog/confirm-dialog.component.html","../../../projects/ng-common/src/lib/component/image-magnifier-dialog/image-magnifier-dialog.component.ts","../../../projects/ng-common/src/lib/component/image-magnifier-dialog/image-magnifier-dialog.component.html","../../../projects/ng-common/src/lib/service/loading.service.ts","../../../projects/ng-common/src/lib/component/loading/loading.component.ts","../../../projects/ng-common/src/lib/component/loading/loading.component.html","../../../projects/ng-common/src/lib/service/intersection-observer.service.ts","../../../projects/ng-common/src/lib/directive/lazy-image.directive.ts","../../../projects/ng-common/src/lib/component/icon/icon.component.ts","../../../projects/ng-common/src/lib/component/icon/icon.component.html","../../../projects/ng-common/src/lib/directive/ripple.directive.ts","../../../projects/ng-common/src/lib/ng-common.module.ts","../../../projects/ng-common/src/lib/service/dialog.service.ts","../../../projects/ng-common/src/lib/service/rest.service.ts","../../../projects/ng-common/src/lib/service/local-storage.service.ts","../../../projects/ng-common/src/public-api.ts","../../../projects/ng-common/src/ng-common.ts"],"sourcesContent":["import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'commaSeparateNumberPipe'\r\n})\r\nexport class CommaSeparateNumberPipe implements PipeTransform {\r\n\r\n  transform(value: any, args?: any): any {\r\n    if (!value) {\r\n      return 0;\r\n    }\r\n    while (/(\\d+)(\\d{3})/.test(value.toString())) {\r\n      value = value.toString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, '$1,');\r\n    }\r\n    return value;\r\n  }\r\n\r\n}\r\n","import {Component, HostListener, Inject, OnInit} from '@angular/core';\r\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\r\n\r\n@Component({\r\n  selector: 'lib-confirm-dialog',\r\n  templateUrl: './confirm-dialog.component.html',\r\n  styleUrls: ['./confirm-dialog.component.scss']\r\n})\r\nexport class ConfirmDialogComponent implements OnInit {\r\n\r\n  @HostListener('document:keypress', ['$event'])\r\n  handleKeyboardEvent(event: KeyboardEvent) {\r\n    if (event.key === 'Enter') {\r\n      this.onCloseDialog(true);\r\n    }\r\n  }\r\n\r\n  constructor(\r\n    private dialogRef: MatDialogRef<ConfirmDialogComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: { message: string, mode: string },\r\n  ) {\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  onCloseDialog(boolean = false) {\r\n    this.dialogRef.close(boolean);\r\n  }\r\n\r\n}\r\n","<div class=\"dialog-container\">\r\n  <div class=\"dialog-header\">\r\n    <mat-icon class=\"close-btn\" (click)=\"onCloseDialog()\">close</mat-icon>\r\n  </div>\r\n  <div class=\"dialog-body\">\r\n    <div class=\"dialog-body-container\" [innerHTML]=\"data.message\"></div>\r\n  </div>\r\n  <div class=\"dialog-footer\">\r\n    <div class=\"dialog-footer-controls\">\r\n      <button mat-flat-button (click)=\"onCloseDialog(true)\">확인</button>\r\n      <button *ngIf=\"data.mode !== 'alert'\" class=\"cancel-btn\" mat-flat-button (click)=\"onCloseDialog(false)\">취소</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import {Component, Inject, OnInit} from '@angular/core';\r\nimport {MAT_DIALOG_DATA, MatDialogRef} from '@angular/material/dialog';\r\n\r\n@Component({\r\n  selector: 'lib-image-magnifier-dialog',\r\n  templateUrl: './image-magnifier-dialog.component.html',\r\n  styleUrls: ['./image-magnifier-dialog.component.scss']\r\n})\r\nexport class ImageMagnifierDialogComponent implements OnInit {\r\n\r\n  constructor(\r\n    public dialogRef: MatDialogRef<ImageMagnifierDialogComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: { src: string },\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  onCloseDialog() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n}\r\n","<img [src]=\"data.src\" (click)=\"dialogRef.close()\"/>\r\n","import { Injectable } from '@angular/core';\r\nimport {BehaviorSubject, delay, of, tap} from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LoadingService {\r\n\r\n  loading$ = new BehaviorSubject<boolean>(false);\r\n\r\n  constructor() {\r\n  }\r\n\r\n  start() {\r\n    this.loading$.next(true);\r\n  }\r\n\r\n  stop(ms = 0) {\r\n    if (ms > 0) {\r\n      of(true)\r\n        .pipe(delay(ms))\r\n        .subscribe(_ => {\r\n          this.loading$.next(false);\r\n        });\r\n    } else {\r\n      this.loading$.next(false);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * NOTE: 다른 로딩과 겹치지 않게 사용할 것\r\n   * @param ms 로딩 노출 시간\r\n   */\r\n  displayLoading(ms = 1000) {\r\n    of(true)\r\n      .pipe(\r\n        tap(_ => {\r\n          this.loading$.next(true);\r\n        }),\r\n        delay(ms),\r\n      ).subscribe(_ => {\r\n      this.loading$.next(false);\r\n    });\r\n  }\r\n}\r\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\r\nimport {BehaviorSubject, Subscription} from 'rxjs';\r\nimport {LoadingService} from '../../service/loading.service';\r\n\r\n\r\n@Component({\r\n  selector: 'gollala-loading',\r\n  templateUrl: './loading.component.html',\r\n  styleUrls: ['./loading.component.scss']\r\n})\r\nexport class LoadingComponent implements OnInit {\r\n  @Input() global = false;\r\n  // background 음영처리\r\n  @Input() backdrop = false;\r\n  // diameter\r\n  @Input() d = 100;\r\n\r\n  @Output() start: EventEmitter<boolean> = new EventEmitter();\r\n  @Output() end: EventEmitter<boolean> = new EventEmitter();\r\n\r\n  subscriptions: Subscription[] = [];\r\n\r\n  loading$ = new BehaviorSubject<boolean>(false);\r\n\r\n  constructor(\r\n    private loadingService: LoadingService,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    if (this.global) {\r\n      this.loading$ = this.loadingService.loading$;\r\n      const loadingSub = this.loading$.subscribe(loading => {\r\n        if (loading) {\r\n          this.start.next(true);\r\n        } else {\r\n          this.end.next(true);\r\n        }\r\n      });\r\n\r\n      this.subscriptions.push(loadingSub);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscriptions.forEach(s => {\r\n      s.unsubscribe();\r\n    });\r\n  }\r\n}\r\n","<div class=\"loading-overlay\" [ngClass]=\"{\r\n    'active': backdrop && (!global || (loading$ && loading$.value)),\r\n    'loading': !global || (loading$ && loading$.value),\r\n    'global': global,\r\n    'fit': !global\r\n    }\">\r\n  <div class=\"spinner-container\">\r\n    <mat-progress-spinner *ngIf=\"!global || (loading$ | async)\" mode=\"indeterminate\" [diameter]=\"d\"></mat-progress-spinner>\r\n  </div>\r\n</div>\r\n","import {Injectable, NgZone} from '@angular/core';\r\nimport {filter, Observable, Subject} from 'rxjs';\r\n\r\nexport interface EntryAndObserver {\r\n  entry: IntersectionObserverEntry;\r\n  observer: IntersectionObserver;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class IntersectionObserverService {\r\n  private intersectionObserver: IntersectionObserver | undefined;\r\n\r\n  private ixIn = new Subject<EntryAndObserver>();\r\n  private ixOut = new Subject<EntryAndObserver>();\r\n\r\n  constructor(\r\n    private zone: NgZone\r\n  ) {\r\n    zone.runOutsideAngular(() => {\r\n      // @ts-ignore\r\n      IntersectionObserver.prototype['USE_MUTATION_OBSERVER'] = false;\r\n      this.intersectionObserver = new IntersectionObserver((entries, observer) => {\r\n        entries.forEach(entry => {\r\n          if (entry.isIntersecting) {\r\n            this.ixIn.next({ entry, observer } );\r\n          } else {\r\n            this.ixOut.next({ entry, observer } );\r\n          }\r\n        });\r\n      }, { rootMargin: '100px'});\r\n\r\n      // @ts-ignore\r\n      this.intersectionObserver['USE_MUTATION_OBSERVER'] = false;\r\n    });\r\n  }\r\n\r\n  observe(elem: HTMLElement): { ixIn: Observable<EntryAndObserver>, ixOut: Observable<EntryAndObserver> } {\r\n    // @ts-ignore\r\n    this.intersectionObserver.observe(elem);\r\n    return {\r\n      ixIn: this.ixIn.pipe(filter(({entry, observer}) => entry.target === elem)),\r\n      ixOut: this.ixOut.pipe(filter(({entry, observer}) => entry.target === elem)),\r\n    };\r\n  }\r\n\r\n  unobserve(elem: HTMLElement) {\r\n    // @ts-ignore\r\n    this.intersectionObserver.unobserve(elem);\r\n  }\r\n}\r\n","import {Directive, ElementRef, EventEmitter, Input, Output, SimpleChanges} from '@angular/core';\r\nimport {\r\n  BehaviorSubject,\r\n  catchError,\r\n  delay,\r\n  filter,\r\n  map,\r\n  mergeMap,\r\n  Observable,\r\n  Subscription,\r\n  throwError,\r\n  timer\r\n} from 'rxjs';\r\nimport {EntryAndObserver, IntersectionObserverService} from '../service/intersection-observer.service';\r\nimport {ajax, AjaxResponse} from 'rxjs/ajax';\r\n\r\nconst IMAGE_LOADING_PATH = 'assets/images/loading-message.png';\r\nconst IMAGE_NOT_FOUND_PATH = 'assets/images/not-found.png';\r\n\r\ninterface LazyImageEvent {\r\n  el: ElementRef;\r\n  src: string;\r\n  intersectionObserver: IntersectionObserver | undefined;\r\n  event?: Event | null;\r\n}\r\n\r\ninterface LoadEvent {\r\n  src: string;\r\n  event: Event | null;\r\n}\r\n\r\n@Directive({\r\n  selector: '[lazyImage]'\r\n})\r\nexport class LazyImageDirective {\r\n  @Input('lazyImage') lazySrc: string | undefined;\r\n  @Input() ioOptions: any;\r\n  @Input() retryLimit = 1;\r\n  @Output() beforeLoad: EventEmitter<LazyImageEvent> = new EventEmitter();\r\n  @Output() afterLoad: EventEmitter<LazyImageEvent> = new EventEmitter();\r\n  @Output() onError: EventEmitter<LazyImageEvent> = new EventEmitter();\r\n\r\n  load$ = new BehaviorSubject<LoadEvent | null>(null);\r\n  retry$ = new BehaviorSubject<number>(-1);\r\n\r\n  status = 'INIT';\r\n\r\n  subscriptions: Subscription[] = [];\r\n\r\n  ne: HTMLElement | undefined;\r\n\r\n  observer: IntersectionObserver | undefined;\r\n\r\n  constructor(\r\n    private el: ElementRef,\r\n    private ioService: IntersectionObserverService,\r\n  ) {\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.setup();\r\n    this.initSubscriptions();\r\n    this.attachIntersectionObserver();\r\n    this.beforeLoaded();\r\n  }\r\n\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (!changes['lazySrc'].firstChange) {\r\n      // 만약 재시도 중이었다면 취소시킴\r\n      const currentRetryCount = this.retry$.value;\r\n      if (currentRetryCount !== -1) {\r\n        this.retry$.next(-1);\r\n      }\r\n      this.beforeLoaded();\r\n      const src = changes['lazySrc'].currentValue;\r\n      this.loadImage(src)\r\n        .subscribe(\r\n            (data: any) => { this.load$.next({ src: data, event: null }); },\r\n          () => { this.retry$.next(this.retryLimit - 1); }\r\n        );\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.unsubscribeAll();\r\n  }\r\n\r\n  private setup() {\r\n    this.ne = this.el.nativeElement;\r\n  }\r\n\r\n  private initSubscriptions() {\r\n    const loadSub = this.load$\r\n      .pipe(filter(Boolean))\r\n      .subscribe((loadEvent: LoadEvent) => {\r\n        const {event, src} = loadEvent;\r\n        if (this.ne) {\r\n          if (this.ne.tagName === 'IMG') {\r\n            const imgTag = this.ne as HTMLImageElement;\r\n            imgTag.src = src;\r\n          }\r\n          else {\r\n            this.populateBackgroundStyles(this.ne, src);\r\n          }\r\n\r\n          this.afterLoad.emit({\r\n            el: this.el,\r\n            src,\r\n            intersectionObserver: this.observer,\r\n            event,\r\n          });\r\n        }\r\n      });\r\n\r\n    this.subscriptions.push(loadSub);\r\n\r\n    const retrySub = this.retry$\r\n      .pipe(\r\n        filter(x => x !== -1),\r\n        filter(x => this.status !== 'LOAD'),\r\n        delay(3000),\r\n      )\r\n      .subscribe(retryCount => {\r\n        if (retryCount <= 0) {\r\n          this.error();\r\n          return;\r\n        }\r\n        if (this.lazySrc) {\r\n          this.loadImage(this.lazySrc)\r\n            .subscribe(\r\n              data => { this.load$.next({ src: data, event: null }); },\r\n              err => { this.retry$.next(retryCount - 1); }\r\n            );\r\n        }\r\n      });\r\n\r\n    this.subscriptions.push(retrySub);\r\n  }\r\n\r\n  private unsubscribeAll() {\r\n    this.subscriptions.forEach(s => {\r\n      s.unsubscribe();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * try retrieve image from cache. if the image doesn't exist, try request.\r\n   * @param url\r\n   */\r\n  private loadImage(url: string): Observable<string> {\r\n    return this.loadImageFromUrl(url);\r\n  }\r\n\r\n  private loadImageFromUrl(url: string): Observable<any> {\r\n    return ajax({\r\n      url,\r\n      crossDomain: true,\r\n      responseType: 'arraybuffer',\r\n    }).pipe(\r\n      map((ajaxResponse: AjaxResponse<any>) => {\r\n        if (ajaxResponse.status >= 400) {\r\n          throw new Error('Cannot image url');\r\n        }\r\n        return ajaxResponse.response;\r\n      }),\r\n      mergeMap((bufferArray: ArrayBuffer) => {\r\n        return Observable.create((observer: { next: (arg0: string | ArrayBuffer | null) => void; complete: () => void; error: (arg0: ProgressEvent<FileReader>) => void; }) => {\r\n          const reader = new FileReader();\r\n          reader.onload = (e) => {\r\n            observer.next(reader.result);\r\n            observer.complete();\r\n          };\r\n          reader.onerror = (e) => {\r\n            observer.error(e);\r\n          };\r\n          reader.readAsDataURL(new Blob([bufferArray]));\r\n        });\r\n      }),\r\n      catchError(e => throwError(e)),\r\n    );\r\n  }\r\n\r\n  private attachIntersectionObserver() {\r\n    /**\r\n     * Lazy Loading\r\n     */\r\n    if (this.ne) {\r\n      const {ixIn, ixOut} = this.ioService.observe(this.ne);\r\n\r\n      let timerSub: Subscription;\r\n      const inSub = ixIn.subscribe((value: EntryAndObserver) => {\r\n        const {entry, observer} = value;\r\n        if (timerSub && timerSub.closed) {\r\n          timerSub.unsubscribe();\r\n        }\r\n        this.status = 'LOADING';\r\n        timerSub = timer(200)\r\n          .pipe(mergeMap(_ => this.loadImage(this.lazySrc || '')))\r\n          .subscribe(data => {\r\n            this.load$.next({ src: data, event: null });\r\n            observer.unobserve(entry.target);\r\n          }, err => {\r\n            this.retry$.next(this.retryLimit);\r\n          });\r\n      });\r\n\r\n      const outSub = ixOut.subscribe((value: EntryAndObserver) => {\r\n        if (timerSub) {\r\n          this.status = 'INIT';\r\n          timerSub.unsubscribe();\r\n        }\r\n      });\r\n\r\n      this.subscriptions.push(inSub, outSub);\r\n    }\r\n\r\n  }\r\n\r\n  private beforeLoaded() {\r\n    if (this.ne) {\r\n      if (this.ne.tagName === 'IMG') {\r\n        const imgTag = this.ne as HTMLImageElement;\r\n        imgTag.src = IMAGE_LOADING_PATH;\r\n      }\r\n      else {\r\n        this.populateBackgroundStyles(this.ne, IMAGE_LOADING_PATH);\r\n      }\r\n\r\n      this.beforeLoad.emit({\r\n        el: this.el,\r\n        src: IMAGE_LOADING_PATH,\r\n        intersectionObserver: this.observer\r\n      });\r\n    }\r\n  }\r\n\r\n  private error() {\r\n    if (this.ne) {\r\n      if (this.ne.tagName === 'IMG') {\r\n        const imgTag = this.el.nativeElement as HTMLImageElement;\r\n        imgTag.src = IMAGE_NOT_FOUND_PATH;\r\n      }\r\n      else {\r\n        this.populateBackgroundStyles(this.ne, IMAGE_NOT_FOUND_PATH);\r\n      }\r\n\r\n      this.ioService.unobserve(this.ne);\r\n\r\n      this.onError.emit({\r\n        el: this.el,\r\n        src: IMAGE_NOT_FOUND_PATH,\r\n        intersectionObserver: this.observer,\r\n        event,\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  private populateBackgroundStyles(placeholder: HTMLElement, imagePath: string) {\r\n    placeholder.style.backgroundImage = `url(${imagePath})`;\r\n    placeholder.style.backgroundPosition = 'center';\r\n    placeholder.style.backgroundRepeat = 'no-repeat';\r\n    placeholder.style.backgroundSize = 'contain';\r\n  }\r\n\r\n}\r\n","import {AfterContentChecked, AfterViewInit, Component, ElementRef, Input, ViewChild} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'gollala-icon',\r\n  templateUrl: './icon.component.html',\r\n  styleUrls: ['./icon.component.scss']\r\n})\r\nexport class IconComponent implements AfterViewInit, AfterContentChecked {\r\n\r\n  @ViewChild('contentElem') contentElem: ElementRef | undefined;\r\n  content: any;\r\n\r\n  @Input() color: string = '#1c1c1c';\r\n\r\n  constructor() { }\r\n\r\n  ngAfterViewInit() {\r\n    if (this.contentElem) {\r\n      this.content = this.contentElem.nativeElement.innerText;\r\n    }\r\n  }\r\n\r\n  ngAfterContentChecked() {\r\n    if (this.contentElem) {\r\n      const content =  this.contentElem.nativeElement.innerText;\r\n      if (content !== this.content) {\r\n        this.content = content;\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n","<div #contentElem style=\"display: none\">\r\n  <ng-content></ng-content>\r\n</div>\r\n<div class=\"wrap\">\r\n  <svg width=\"36\" height=\"36\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" *ngIf=\"content === 'cart'\">\r\n    <path d=\"M25.19 8.5H10.81C9.53422 8.5 8.5 9.53422 8.5 10.81V25.19C8.5 26.4658 9.53422 27.5 10.81 27.5H25.19C26.4658 27.5 27.5 26.4658 27.5 25.19V10.81C27.5 9.53422 26.4658 8.5 25.19 8.5Z\"\r\n          [attr.stroke]=\"color\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    <path d=\"M22.3299 12.99V14.53C22.3299 15.6784 21.8737 16.7797 21.0617 17.5918C20.2497 18.4038 19.1483 18.86 17.9999 18.86C16.8516 18.86 15.7502 18.4038 14.9381 17.5918C14.1261 16.7797 13.6699 15.6784 13.6699 14.53V12.99\"\r\n          [attr.stroke]=\"color\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n  </svg>\r\n\r\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" *ngIf=\"content === 'excel'\">\r\n    <path d=\"M11.7 21.288L3.23999 19.938C2.89379 19.8811 2.57908 19.7031 2.35196 19.4356C2.12484 19.1682 2.0001 18.8288 2 18.478V5.82798C2.00045 5.4783 2.12555 5.14025 2.35281 4.87449C2.58008 4.60874 2.89462 4.43268 3.23999 4.37797L11.7 3.01799C11.9102 2.98491 12.1251 2.99756 12.33 3.05506C12.5348 3.11257 12.7249 3.21355 12.8872 3.35118C13.0495 3.4888 13.1803 3.65982 13.2705 3.85255C13.3607 4.04528 13.4083 4.25521 13.41 4.468V19.838C13.41 20.0513 13.3635 20.2621 13.2738 20.4556C13.1841 20.6492 13.0534 20.8209 12.8907 20.9589C12.728 21.0969 12.5372 21.1978 12.3316 21.2546C12.126 21.3114 11.9105 21.3228 11.7 21.288V21.288Z\"\r\n          [attr.stroke]=\"color\" stroke-width=\"1.3\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    <path d=\"M13.4102 4.7681H20.6702C20.8916 4.76678 21.1112 4.80926 21.3161 4.8931C21.5211 4.97693 21.7075 5.10047 21.8646 5.25661C22.0216 5.41274 22.1463 5.59839 22.2313 5.80287C22.3164 6.00735 22.3602 6.22663 22.3602 6.4481V17.8481C22.3602 18.2937 22.1832 18.721 21.8681 19.036C21.553 19.3511 21.1257 19.5281 20.6802 19.5281H13.4102V4.7681Z\"\r\n          [attr.stroke]=\"color\" stroke-width=\"1.3\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    <path d=\"M13.4102 8.86792H17.2302\" [attr.stroke]=\"color\" stroke-width=\"1.3\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    <path d=\"M13.4102 12.158H17.2302\" [attr.stroke]=\"color\" stroke-width=\"1.3\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    <path d=\"M13.4102 15.438H17.2302\" [attr.stroke]=\"color\" stroke-width=\"1.3\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    <path d=\"M6.06982 14.6879L9.32982 9.61792\" [attr.stroke]=\"color\" stroke-width=\"1.3\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    <path d=\"M9.32982 14.6879L6.06982 9.61792\" [attr.stroke]=\"color\" stroke-width=\"1.3\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n  </svg>\r\n\r\n  <svg width=\"36\" height=\"36\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" *ngIf=\"content === 'user'\">\r\n    <path d=\"M18.0299 17.22C20.576 17.22 22.6399 15.156 22.6399 12.61C22.6399 10.064 20.576 8 18.0299 8C15.4839 8 13.4199 10.064 13.4199 12.61C13.4199 15.156 15.4839 17.22 18.0299 17.22Z\"\r\n          [attr.stroke]=\"color\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    <path d=\"M9 27.1601V24.9601C9 24.3512 9.12009 23.7483 9.35339 23.186C9.5867 22.6236 9.92862 22.1127 10.3596 21.6826C10.7906 21.2526 11.3022 20.9117 11.8651 20.6796C12.428 20.4475 13.0311 20.3288 13.64 20.3301H22.43C23.6579 20.3301 24.8356 20.8179 25.7039 21.6862C26.5722 22.5545 27.06 23.7321 27.06 24.9601V27.1601\"\r\n          [attr.stroke]=\"color\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n  </svg>\r\n\r\n  <svg width=\"36\" height=\"36\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" *ngIf=\"content === 'camera'\">\r\n    <path d=\"M25.86 11.3399H22.64V10.52C22.64 10.1699 22.5008 9.8341 22.2533 9.58655C22.0057 9.339 21.67 9.19995 21.3199 9.19995H13.86C13.5099 9.19995 13.1742 9.339 12.9266 9.58655C12.6791 9.8341 12.5399 10.1699 12.5399 10.52V11.3399H9.31995C8.96986 11.3399 8.63414 11.479 8.3866 11.7266C8.13905 11.9741 8 12.3098 8 12.6599V24.2499C8 24.6 8.13905 24.9357 8.3866 25.1833C8.63414 25.4308 8.96986 25.5699 9.31995 25.5699H25.86C26.2101 25.5699 26.5458 25.4308 26.7933 25.1833C27.0409 24.9357 27.1799 24.6 27.1799 24.2499V12.6599C27.1799 12.3098 27.0409 11.9741 26.7933 11.7266C26.5458 11.479 26.2101 11.3399 25.86 11.3399ZM18.2999 22.0399C17.5313 22.1827 16.7372 22.0749 16.0344 21.7324C15.3316 21.3899 14.7574 20.8308 14.3962 20.1374C14.0351 19.444 13.9061 18.653 14.0283 17.8809C14.1505 17.1087 14.5174 16.3961 15.075 15.8481C15.6325 15.3001 16.3513 14.9456 17.1255 14.8368C17.8997 14.728 18.6884 14.8707 19.3754 15.2438C20.0624 15.6169 20.6115 16.2008 20.9418 16.9094C21.272 17.618 21.366 18.4139 21.21 19.1799C21.0648 19.8922 20.7103 20.545 20.1919 21.0545C19.6734 21.564 19.0146 21.9072 18.2999 22.0399Z\"\r\n          [attr.fill]=\"color\"/>\r\n  </svg>\r\n\r\n  <svg width=\"36\" height=\"36\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" *ngIf=\"content === 'search'\">\r\n    <path d=\"M16.9406 23.8813C20.7738 23.8813 23.8813 20.7738 23.8813 16.9406C23.8813 13.1074 20.7738 10 16.9406 10C13.1074 10 10 13.1074 10 16.9406C10 20.7738 13.1074 23.8813 16.9406 23.8813Z\"\r\n          [attr.stroke]=\"color\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    <path d=\"M22.0181 22.0181L25.9998 25.9998\" [attr.stroke]=\"color\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n  </svg>\r\n\r\n  <svg width=\"40\" height=\"48\" viewBox=\"0 0 40 48\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" *ngIf=\"content === 'upload'\">\r\n    <path d=\"M15.0371 23.5107L19.1356 19.3906C19.2262 19.2965 19.3347 19.2216 19.4547 19.1705C19.5746 19.1194 19.7036 19.093 19.8339 19.093C19.9642 19.093 20.0931 19.1194 20.2131 19.1705C20.3331 19.2216 20.4416 19.2965 20.5322 19.3906L24.6307 23.5107\"\r\n          [attr.stroke]=\"color\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    <path d=\"M19.8345 19.1008V29.8283\" [attr.stroke]=\"color\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    <path d=\"M14.0359 33.8264H25.6484\" [attr.stroke]=\"color\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    <path d=\"M24.1453 12.5544C24.1493 13.5149 24.5317 14.4348 25.2088 15.1126C25.8859 15.7904 26.8025 16.1709 27.758 16.1709H33.2834L24.1756 7.01514L24.1453 12.5544Z\"\r\n          [attr.stroke]=\"color\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    <path d=\"M24.145 7H9.99749C9.04335 7 8.12829 7.38102 7.45361 8.05925C6.77893 8.73748 6.3999 9.65735 6.3999 10.6165V37.0309C6.39989 37.9915 6.77843 38.9129 7.45268 39.5936C8.12693 40.2742 9.04195 40.6586 9.99749 40.6627H29.7311C30.6866 40.6586 31.6017 40.2742 32.2759 39.5936C32.9502 38.9129 33.3287 37.9915 33.3287 37.0309V16.171L24.145 7Z\"\r\n          [attr.stroke]=\"color\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n  </svg>\r\n\r\n\r\n  <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" *ngIf=\"content === 'download'\">\r\n    <path d=\"M20.8044 15.4148L17.0426 19.1668C16.9589 19.2509 16.8594 19.3176 16.7498 19.3632C16.6402 19.4087 16.5227 19.4321 16.4041 19.4321C16.2854 19.4321 16.1679 19.4087 16.0583 19.3632C15.9487 19.3176 15.8492 19.2509 15.7655 19.1668L12.0037 15.4148\"\r\n          [attr.stroke]=\"color\" stroke-width=\"1.2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    <path d=\"M16.4089 19.4341V8\" [attr.stroke]=\"color\" stroke-width=\"1.2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    <path d=\"M25.0316 20.1072V21.8297C25.029 22.2018 24.88 22.5578 24.617 22.8209C24.3539 23.084 23.9978 23.2329 23.6258 23.2355H9.18223C8.81112 23.2329 8.45611 23.0836 8.19462 22.8203C7.93313 22.5569 7.78637 22.2009 7.78638 21.8297V20.1072\"\r\n          [attr.stroke]=\"color\" stroke-width=\"1.2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    <path d=\"M20.8044 15.4148L17.0426 19.1668C16.9589 19.2509 16.8594 19.3176 16.7498 19.3632C16.6402 19.4087 16.5227 19.4321 16.4041 19.4321C16.2854 19.4321 16.1679 19.4087 16.0583 19.3632C15.9487 19.3176 15.8492 19.2509 15.7655 19.1668L12.0037 15.4148\"\r\n          [attr.stroke]=\"color\" stroke-width=\"1.2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    <path d=\"M16.4089 19.4341V8\" [attr.stroke]=\"color\" stroke-width=\"1.2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    <path d=\"M25.0316 20.1072V21.8297C25.029 22.2018 24.88 22.5578 24.617 22.8209C24.3539 23.084 23.9978 23.2329 23.6258 23.2355H9.18223C8.81112 23.2329 8.45611 23.0836 8.19462 22.8203C7.93313 22.5569 7.78637 22.2009 7.78638 21.8297V20.1072\"\r\n          [attr.stroke]=\"color\" stroke-width=\"1.2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n  </svg>\r\n\r\n  <svg width=\"21\" height=\"19\" viewBox=\"0 0 21 19\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" *ngIf=\"content === 'edit'\">\r\n    <path d=\"M13.9698 1.38071L17.2498 4.66071C17.3858 4.79553 17.4939 4.95594 17.5676 5.13273C17.6413 5.30952 17.6792 5.49918 17.6792 5.69071C17.6792 5.88225 17.6413 6.07188 17.5676 6.24866C17.4939 6.42545 17.3858 6.5859 17.2498 6.72071L6.51981 17.4507C6.25496 17.7185 5.89633 17.8727 5.51981 17.8807H2.23978C1.85256 17.8807 1.48123 17.7269 1.20743 17.4531C0.933625 17.1793 0.779785 16.8079 0.779785 16.4207V13.1807C0.792848 12.8053 0.946286 12.4484 1.20978 12.1807L11.9398 1.45069C12.2016 1.17546 12.5609 1.01395 12.9405 1.00086C13.3201 0.987772 13.6897 1.12417 13.9698 1.38071V1.38071Z\" [attr.stroke]=\"color\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    <path d=\"M9.98975 3.30078L15.2397 8.55078\" [attr.stroke]=\"color\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    <path d=\"M5.8999 17.8806H19.3099\" [attr.stroke]=\"color\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n  </svg>\r\n\r\n  <svg width=\"17\" height=\"13\" viewBox=\"0 0 17 13\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" *ngIf=\"content === 'check'\">\r\n    <path d=\"M5.63642 8.85536L2.10684 5.17599C2.04398 5.11067 1.96918 5.05882 1.88678 5.02344C1.80439 4.98807 1.716 4.96985 1.62674 4.96985C1.53748 4.96985 1.4491 4.98807 1.3667 5.02344C1.2843 5.05882 1.20951 5.11067 1.14665 5.17599L0.200036 6.15157C0.13666 6.21636 0.0863284 6.29344 0.0520003 6.37836C0.0176721 6.46327 0 6.55434 0 6.64633C0 6.73833 0.0176721 6.82941 0.0520003 6.91433C0.0863284 6.99925 0.13666 7.07633 0.200036 7.14111L5.60938 12.7995C5.73806 12.9281 5.91022 13 6.08944 13C6.26866 13 6.44086 12.9281 6.56953 12.7995L16.8067 2.16558C16.9306 2.03532 17 1.8602 17 1.6778C17 1.4954 16.9306 1.32026 16.8067 1.18999L15.8601 0.200455C15.7314 0.0718872 15.5592 0 15.38 0C15.2008 0 15.0286 0.0718872 14.8999 0.200455L6.56953 8.85536C6.50783 8.92026 6.43418 8.97182 6.35291 9.00701C6.27163 9.04221 6.18436 9.06033 6.09621 9.06033C6.00805 9.06033 5.92078 9.04221 5.83951 9.00701C5.75823 8.97182 5.68458 8.92026 5.62288 8.85536H5.63642Z\"\r\n          [attr.fill]=\"color\"/>\r\n  </svg>\r\n\r\n  <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" *ngIf=\"content === 'remove'\">\r\n    <path d=\"M9.61768 11.0579H22.4443V21.7245C22.4443 22.4318 22.1634 23.11 21.6633 23.6101C21.1632 24.1102 20.4849 24.3912 19.7777 24.3912H12.3288C11.6215 24.3912 10.9433 24.1102 10.4432 23.6101C9.94307 23.11 9.66212 22.4318 9.66212 21.7245V11.0579H9.61768Z\"\r\n          [attr.stroke]=\"color\" stroke-width=\"1.2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    <path d=\"M8 11.0579H24.08\" [attr.stroke]=\"color\" stroke-width=\"1.2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    <path d=\"M13.2355 8H18.8888C19.2141 8 19.5261 8.12924 19.7562 8.35928C19.9862 8.58933 20.1155 8.90133 20.1155 9.22667V11.0578H12.0088V9.22667C12.0088 8.90133 12.138 8.58933 12.3681 8.35928C12.5981 8.12924 12.9101 8 13.2355 8V8Z\"\r\n          [attr.stroke]=\"color\" stroke-width=\"1.2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    <path d=\"M16.0356 17.6533V21.0489\" [attr.stroke]=\"color\" stroke-width=\"1.2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    <path d=\"M19.1646 17.6533V21.0489\" [attr.stroke]=\"color\" stroke-width=\"1.2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    <path d=\"M12.9155 17.6533V21.0489\" [attr.stroke]=\"color\" stroke-width=\"1.2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n  </svg>\r\n\r\n  <svg width=\"10\" height=\"10\" viewBox=\"0 0 10 10\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" *ngIf=\"content === 'close'\">\r\n    <path d=\"M1.5 1.5L8.45697 8.5\" [attr.stroke]=\"color\" stroke-width=\"1.2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n    <path d=\"M8.49994 1.5L1.54297 8.5\" [attr.stroke]=\"color\" stroke-width=\"1.2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n  </svg>\r\n</div>\r\n\r\n\r\n\r\n\r\n","import {Directive, ElementRef, HostListener, Renderer2} from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[ripple]'\r\n})\r\nexport class RippleDirective {\r\n\r\n  constructor(\r\n    private _el: ElementRef,\r\n    private renderer: Renderer2\r\n  ) {\r\n    this.renderer.addClass(_el.nativeElement, 'ripple');\r\n  }\r\n\r\n  @HostListener('click', ['$event']) onClick(event: { path: string | any[]; clientX: number; clientY: number; }) {\r\n    let elem;\r\n    for(let i = 0; i < event.path.length; i++) {\r\n      const e = event.path[i];\r\n      if (e.classList.contains('ripple')) {\r\n        elem = e;\r\n        break;\r\n      }\r\n    }\r\n    let x = event.clientX - elem.offsetLeft;\r\n    let y = event.clientY - elem.offsetTop;\r\n    let rippleElement = this.renderer.createElement('span');\r\n    this.renderer.addClass(rippleElement, 'ripple-effect');\r\n    rippleElement.style.left = x +  'px';\r\n    rippleElement.style.top = y + 'px';\r\n    this._el.nativeElement.appendChild(rippleElement);\r\n    setTimeout(function() {\r\n      rippleElement.remove();\r\n    }, 300);\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport {CommaSeparateNumberPipe} from './pipe/comma-separate-number.pipe';\r\nimport {ConfirmDialogComponent} from './component/confirm-dialog/confirm-dialog.component';\r\nimport {ImageMagnifierDialogComponent} from './component/image-magnifier-dialog/image-magnifier-dialog.component';\r\nimport {LoadingComponent} from './component/loading/loading.component';\r\nimport {MatDialogModule} from '@angular/material/dialog';\r\nimport {CommonModule} from '@angular/common';\r\nimport {MatIconModule} from '@angular/material/icon';\r\nimport {MatProgressSpinnerModule} from '@angular/material/progress-spinner';\r\nimport { LazyImageDirective } from './directive/lazy-image.directive';\r\nimport { IconComponent } from './component/icon/icon.component';\r\nimport { RippleDirective } from './directive/ripple.directive';\r\nimport {MatButtonModule} from '@angular/material/button';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CommaSeparateNumberPipe,\r\n    ConfirmDialogComponent,\r\n    ImageMagnifierDialogComponent,\r\n    LoadingComponent,\r\n    LazyImageDirective,\r\n    IconComponent,\r\n    RippleDirective,\r\n  ],\r\n  imports: [\r\n    MatDialogModule,\r\n    CommonModule,\r\n    MatIconModule,\r\n    MatProgressSpinnerModule,\r\n    MatButtonModule\r\n  ],\r\n  providers: [\r\n    CommaSeparateNumberPipe\r\n  ],\r\n  exports: [\r\n    CommaSeparateNumberPipe,\r\n    LoadingComponent,\r\n    ConfirmDialogComponent,\r\n    LazyImageDirective,\r\n    IconComponent,\r\n    RippleDirective,\r\n    MatDialogModule\r\n  ],\r\n  entryComponents: [\r\n    ConfirmDialogComponent,\r\n    ImageMagnifierDialogComponent\r\n  ]\r\n})\r\nexport class NgCommonModule { }\r\n","import {Injectable, TemplateRef} from '@angular/core';\r\nimport {MatDialog, MatDialogConfig, MatDialogRef} from '@angular/material/dialog';\r\nimport {Observable} from 'rxjs';\r\nimport {ComponentType, NoopScrollStrategy} from '@angular/cdk/overlay';\r\nimport {ConfirmDialogComponent} from '../component/confirm-dialog/confirm-dialog.component';\r\nimport {ImageMagnifierDialogComponent} from '../component/image-magnifier-dialog/image-magnifier-dialog.component';\r\n\r\nclass GollalaMatDialogConfig<D = any> extends MatDialogConfig {\r\n  scrollBlock?: boolean;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DialogService {\r\n\r\n  constructor(\r\n    private dialog: MatDialog\r\n  ) {\r\n  }\r\n\r\n  alert(message: string, options?: GollalaMatDialogConfig) {\r\n    const defaultOptions = {\r\n      width: '32rem',\r\n      data: {message, mode: 'alert'},\r\n      scrollStrategy: new NoopScrollStrategy(),\r\n      closeOnNavigation: true\r\n    };\r\n\r\n    let config = defaultOptions;\r\n    if (options) {\r\n      config = Object.assign(defaultOptions, options);\r\n    }\r\n\r\n    return this.dialog.open(ConfirmDialogComponent, config).afterClosed();\r\n  }\r\n\r\n  confirm(message: string, options?: MatDialogConfig) {\r\n    const defaultOptions = {\r\n      width: '32rem',\r\n      data: {message, mode: 'confirm'},\r\n      disableClose: true,\r\n      scrollStrategy: new NoopScrollStrategy(),\r\n      closeOnNavigation: true\r\n    };\r\n\r\n    let config = defaultOptions;\r\n    if (options) {\r\n      config = Object.assign(defaultOptions, options);\r\n    }\r\n\r\n    return this.dialog.open(ConfirmDialogComponent, config).afterClosed();\r\n  }\r\n\r\n  magnifyImage(src: string): Observable<any> {\r\n    return this.dialog.open(ImageMagnifierDialogComponent, {\r\n      data: {\r\n        src,\r\n      },\r\n      panelClass: 'magnify',\r\n    }).afterClosed();\r\n  }\r\n\r\n  open<T, D = any, R = any>(componentOrTemplateRef: ComponentType<T> | TemplateRef<T>, options?: GollalaMatDialogConfig<D>): MatDialogRef<T, R> {\r\n    const defaultOptions = {\r\n      width: '32rem',\r\n      scrollStrategy: new NoopScrollStrategy(),\r\n      closeOnNavigation: true\r\n    };\r\n\r\n    let config = defaultOptions;\r\n    if (options) {\r\n      config = Object.assign(defaultOptions, options);\r\n    }\r\n    const open = this.dialog.open(componentOrTemplateRef, config);\r\n    open.afterOpened().subscribe(() => {\r\n      if (options && options.scrollBlock) {\r\n        document.body.style.overflow = 'hidden';\r\n        document.documentElement.classList.add('cdk-global-scrollblock');\r\n      }\r\n    });\r\n\r\n    open.beforeClosed().subscribe(() => {\r\n      if (options && options.scrollBlock) {\r\n        document.body.style.overflow = '';\r\n        document.documentElement.classList.remove('cdk-global-scrollblock');\r\n      }\r\n    });\r\n\r\n    return open;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {\r\n  HttpClient,\r\n  HttpErrorResponse,\r\n  HttpEventType,\r\n  HttpHeaders,\r\n  HttpParams,\r\n  HttpResponse\r\n} from '@angular/common/http';\r\nimport {DialogService} from './dialog.service';\r\nimport {LoadingService} from './loading.service';\r\nimport {catchError, filter, map, of, throwError} from 'rxjs';\r\nimport * as _ from 'lodash';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RestService {\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private dialogService: DialogService,\r\n    private loadingService: LoadingService,\r\n  ) { }\r\n\r\n  request(url = '', options: any = {}) {\r\n\r\n    const method = (options.method || 'GET').toUpperCase();\r\n\r\n    options.headers = (options.headers || new HttpHeaders());\r\n\r\n    if (!options.multipart && !options.headers.get('Content-Type')) {\r\n      if (options.body) {\r\n        options.headers = options.headers.append('Content-Type', 'application/json');\r\n      } else {\r\n        options.headers = options.headers.append('Content-Type', 'application/x-www-form-urlencoded');\r\n      }\r\n    }\r\n\r\n    if (options.params) {\r\n\r\n      if (options.multipart) {\r\n        const formData: FormData = new FormData();\r\n\r\n        Object.keys(options.params).forEach(key => {\r\n          const value = options.params[key];\r\n\r\n          if (\r\n            Array.isArray(value)\r\n            && value.length > 0\r\n            && value[0] instanceof File\r\n          ) {\r\n            // Process as file array\r\n            for (let i = 0, len = value.length; i < len; i++) {\r\n              const file: File = value[i];\r\n              formData.append(key, file, file.name);\r\n            }\r\n          } else {\r\n            formData.append(key, options.params[key]);\r\n          }\r\n        });\r\n\r\n        options.body = formData;\r\n        delete options.params;\r\n      } else {\r\n        let httpParams = new HttpParams();\r\n\r\n        Object.keys(options.params).forEach(key => {\r\n          // params 가 array 일때\r\n          if (Array.isArray(options.params[key])) {\r\n            options.params[key].forEach((param: string | number | boolean) => {\r\n              httpParams = httpParams.append(`${key}`, param);\r\n            });\r\n          } else {\r\n            // params 가 string 일때\r\n            httpParams = httpParams.append(key, options.params[key]);\r\n          }\r\n        });\r\n\r\n        if (['GET', 'DELETE', 'HEAD', 'OPTIONS'].indexOf(method) > -1) {\r\n          options.params = httpParams;\r\n        } else {\r\n          options.body = encodeURI(httpParams.toString());\r\n          delete options.params;\r\n        }\r\n      }\r\n    }\r\n\r\n    delete options.method;\r\n\r\n    options.observe = 'events';\r\n    options.reportProgress = true;\r\n\r\n    const requestOptions = _.cloneDeep(options);\r\n\r\n    return this.http.request(method, url, requestOptions).pipe(\r\n      // @ts-ignore\r\n      filter((event: any) => {\r\n        if (event.type === HttpEventType.UploadProgress) {\r\n          if (options.uploadProgress && typeof options.uploadProgress === 'function') {\r\n            options.uploadProgress(event);\r\n          }\r\n        } else if (event.type === HttpEventType.DownloadProgress) {\r\n          if (options.downloadProgress && typeof options.downloadProgress === 'function') {\r\n            options.downloadProgress(event);\r\n          }\r\n        } else if (event.type === HttpEventType.Response) {\r\n          return true;\r\n        }\r\n      }))\r\n      .pipe(\r\n        // @ts-ignore\r\n        map((response: HttpResponse<any>) => {\r\n          if (options.responseType === 'blob') {\r\n            return this.downloadFile(response, options.fileName);\r\n          }\r\n          return response.body;\r\n        }),\r\n        catchError((errorRes: HttpErrorResponse) => {\r\n          let error;\r\n          if (errorRes.error instanceof Object && errorRes.error.message) {\r\n            error = errorRes.error;\r\n          } else {\r\n            error = errorRes;\r\n          }\r\n\r\n          // @ts-ignore\r\n          if (window['mdlensError']) {\r\n            // @ts-ignore\r\n            return window['mdlensError'].postMessage(JSON.stringify(error.message));\r\n          }\r\n          if (options.handleError) {\r\n            return throwError(errorRes);\r\n          }\r\n          if (errorRes.status === 401) {\r\n            // this.router.navigate(['signin'], {\r\n            //   queryParams: {\r\n            //     url: this.router.routerState.snapshot.url,\r\n            //   }\r\n            // });\r\n            // this.dialogService.alert('인증 세션이 만료되었습니다.<br>다시 로그인하세요.').subscribe(() => {\r\n            //   this.router.navigate(['signin'], {\r\n            //     queryParams: {\r\n            //       url: this.router.routerState.snapshot.url,\r\n            //     }\r\n            //   });\r\n            // });\r\n          } else {\r\n            this.dialogService.alert(errorRes.error.message);\r\n          }\r\n          this.loadingService.stop();\r\n\r\n          return of(errorRes).pipe(filter(() => false));\r\n        })\r\n      );\r\n  }\r\n\r\n  private downloadFile(response: any, fileName?: string) {\r\n    if (!fileName) {\r\n      const contentDisposition = response.headers.get('content-disposition') || '';\r\n      const matches = /filename=([^;]+)/ig.exec(contentDisposition) || [];\r\n\r\n      fileName = (matches[1] || 'untitled').trim().replace(/\\\"/g, '');\r\n    }\r\n\r\n    const blob = new Blob([response.body], {type: response.body.type});\r\n    const link = document.createElement('a');\r\n\r\n    if (link.download === undefined) {\r\n      return null;\r\n    }\r\n\r\n    const url = URL.createObjectURL(blob);\r\n    fileName = decodeURI(fileName);\r\n\r\n    link.setAttribute('href', url);\r\n    link.setAttribute('download', fileName);\r\n    link.style.visibility = 'hidden';\r\n\r\n    document.body.appendChild(link);\r\n\r\n    link.click();\r\n\r\n    document.body.removeChild(link);\r\n\r\n    return fileName;\r\n  }\r\n\r\n  private doRequestByMethod(method: string, url: string, options: any = {}) {\r\n    return this.request(url, {\r\n      ...options,\r\n      method,\r\n    });\r\n  }\r\n\r\n  public GET(url = '', options: any = {}) {\r\n    return this.doRequestByMethod('GET', url, options);\r\n  }\r\n\r\n  public POST(url = '', options: any = {}) {\r\n    return this.doRequestByMethod('POST', url, options);\r\n  }\r\n\r\n  public PUT(url = '', options: any = {}) {\r\n    return this.doRequestByMethod('PUT', url, options);\r\n  }\r\n\r\n  public DELETE(url = '', options: any = {}) {\r\n    return this.doRequestByMethod('DELETE', url, options);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LocalStorageService {\r\n  localStorage: Storage;\r\n\r\n  constructor() {\r\n    this.localStorage = window.localStorage;\r\n  }\r\n\r\n  get isLocalStorageSupported(): boolean {\r\n    return !!this.localStorage;\r\n  }\r\n\r\n  set(\r\n    key: string, item: any\r\n  ) {\r\n    if (!this.isLocalStorageSupported) {\r\n      return;\r\n    }\r\n    localStorage.setItem(key, JSON.stringify(item));\r\n  }\r\n\r\n  setOn(\r\n    ns: string[], key: string, item: any, separator = ':'\r\n  ) {\r\n    const namespaced = this.joinBy(ns, key, separator);\r\n\r\n    this.set(namespaced, item);\r\n  }\r\n\r\n  get(\r\n    key: string,\r\n    parse: boolean = true,\r\n  ) {\r\n    if (!this.isLocalStorageSupported) {\r\n      return null;\r\n    }\r\n    if (parse) {\r\n      let parsed = null;\r\n      try {\r\n        parsed = JSON.parse(<string>localStorage.getItem(key));\r\n      } catch (e) {\r\n        console.error(`JSON parsing error, key: ${key}`, e);\r\n      }\r\n      return parsed;\r\n    }\r\n\r\n    return localStorage.getItem(key);\r\n  }\r\n\r\n  getOn(\r\n    ns: string[],\r\n    key: string,\r\n    parse: boolean = true,\r\n    separator: string = ':',\r\n  ) {\r\n    const namespaced = this.joinBy(ns, key, separator);\r\n\r\n    return this.get(namespaced, parse);\r\n  }\r\n\r\n  remove(key: string) {\r\n    if (!this.isLocalStorageSupported) {\r\n      return;\r\n    }\r\n    localStorage.removeItem(key);\r\n  }\r\n\r\n  removeOn(ns: string[], key: string, separator: string = ':') {\r\n    const namespaced = this.joinBy(ns, key, separator);\r\n\r\n    localStorage.removeItem(namespaced);\r\n  }\r\n\r\n  removeNamespace(ns: string[], separator: string = ':') {\r\n    const namespaced = ns.join(separator);\r\n\r\n    const keys: string[] = Object.keys(localStorage);\r\n\r\n    for (let i = 0, len = keys.length; i < len; i++) {\r\n      const key = keys[i];\r\n      if (key.indexOf(namespaced) >= 0) {\r\n        this.remove(key);\r\n      }\r\n    }\r\n  }\r\n\r\n  private joinBy(ns: string[], key: string, separator: string) {\r\n    return [...ns, key].join(separator);\r\n  }\r\n}\r\n","/*\r\n * Public API Surface of ng-common-module\r\n */\r\n\r\nexport * from './lib/ng-common.module';\r\nexport * from './lib/service/rest.service';\r\nexport * from './lib/service/local-storage.service';\r\nexport * from './lib/service/loading.service';\r\nexport * from './lib/service/dialog.service';\r\nexport * from './lib/pipe/comma-separate-number.pipe';\r\nexport * from './lib/component/loading/loading.component';\r\nexport * from './lib/component/confirm-dialog/confirm-dialog.component';\r\nexport * from './lib/directive/lazy-image.directive';\r\nexport * from './lib/component/icon/icon.component';\r\nexport * from './lib/directive/ripple.directive';\r\n\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}